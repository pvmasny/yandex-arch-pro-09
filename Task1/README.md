# Задача 1. Предложите архитектурное решение и доработайте диаграмму C4 для управления учётными данными пользователя. 

![task1.1](../diagrams/BionicPRO_C4_model.drawio.xml-To-Be.drawio.png)

# Задача 2. Улучшите безопасность существующего приложения, заменив Code Grant на PKCE. 

# Задача 3. Обеспечьте безопасное получение и хранение access-и refresh-токенов.

Код в bionicpro-auth

# Задача 4. Добавьте LDAP для возможности получения данных о пользователях представительства BionicPRO в другой стране.

Пользователи и группы синхронизированы:
![task1.4](1.4.LDAP.png)

# Задача 5. Настройте MFA.
Экспортирован realm после всех манипуляций с Keycloak в файл [keycloak-results-export.json.json](../keycloak/keycloak-results-export.json.json).

![task1.5](1.5OTP.png)

# Задача 6. Добавьте OAuth 2.0 от Яндекс ID.

## Детали реализации

- Настроить OAuth 2.0 от Яндекс ID через quay.io/keycloak/keycloak:21.1 не удалось. В нем есть возможность добавить OIDC, который при редиректе по умолчанию кидал в Scopes  openid и выдовалось сообщение: "Яндекс не имеет отношения к ссылке"
- Пришлось "тюнить" keycloak [Dockerfile](../keycloak/Dockerfile)


## Результаты интеграции
![task1.6](1.6_0.png)
![task1.6](1.6_1.png)
![task1.6](1.6_2.png)